"use strict";function pathItemCompare(n,t){return n.ordinal<t.ordinal?-1:n.ordinal>t.ordinal?1:0}function jobStatusConvertor(n){switch(n){case 1:return"Ready";case 2:return"Moved For Processing";case 3:return"Processing";case 4:return"Completed";case 5:return"Failed Retry";case 6:return"Failed";case 7:return"Paused";case 8:return"Waiting"}}function isJobComplete(n){return n===4?!0:!1}function renderProceed(n,t){const i=`<span>
            <form method='post' action='/periodend/proceed'>
                <input type="submit" value="Proceed" ${t?"":"disabled"}> 
            </form>
        </span>`;n.insertAdjacentHTML("beforeend",i)}function renderJob(n,t){let i=document.createElement("li");return i.textContent=`Job Id : ${n.jobId}, Status : ${jobStatusConvertor(n.status)}`,t.appendChild(i),isJobComplete(n.status)}function renderPathItem(n,t,i,r){let s=t.ordinal===n.position,e=!0,u=document.createElement("li");u.textContent=t.name;let f=t.pathItemJobs;if(f!=undefined&&f.length>0){var o=document.createElement("ul");f.forEach(function(n){var t=renderJob(n,o);t||(e=!1)});u.appendChild(o)}if(s){t.ordinal!==r-1&&renderProceed(u,e);let n=document.createElement("b");i.appendChild(n);n.appendChild(u);i.appendChild(n)}else i.appendChild(u)}function renderPaths(n){if(n!==""&&n!==undefined){let i=JSON.parse(n),t=document.getElementById("pathContainer");while(t.firstChild)t.removeChild(t.firstChild);i.forEach(function(n){let i=n.pathItems,r=i.length;if(i!=undefined&&i.length>0){i.sort(pathItemCompare);let u=document.createElement("li");u.textContent=n.name;let f=document.createElement("ul");i.forEach(function(t){renderPathItem(n,t,f,r)});u.appendChild(f);t.appendChild(u)}})}}var connection=(new signalR.HubConnectionBuilder).configureLogging(signalR.LogLevel.Information).withUrl("/operationsHub",{transport:signalR.HttpTransportType.WebSockets}).build();document.getElementById("sendButton").disabled=!0;connection.on("ReceiveMessage",function(n,t){var r=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=n+" says "+r,i=document.createElement("li");i.textContent=u;document.getElementById("messagesList").appendChild(i)});connection.start().then(function(){document.getElementById("sendButton").disabled=!1}).catch(function(n){return console.error(n.toString())});document.getElementById("sendButton").addEventListener("click",function(n){var t=document.getElementById("userInput").value,i=document.getElementById("messageInput").value;connection.invoke("SendMessage",t,i).catch(function(n){return console.error(n.toString())});n.preventDefault()});"use strict";let connection=(new signalR.HubConnectionBuilder).configureLogging(signalR.LogLevel.Information).withUrl("/periodEndHub",{transport:signalR.HttpTransportType.WebSockets}).build();connection.on("ReceiveMessage",renderPaths);connection.start();