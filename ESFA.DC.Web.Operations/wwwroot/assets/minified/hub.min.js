"use strict";function pathItemCompare(n,t){return n.ordinal<t.ordinal?-1:n.ordinal>t.ordinal?1:0}function jobStatusConvertor(n){switch(n){case 1:return"Ready";case 2:return"Moved For Processing";case 3:return"Processing";case 4:return"Completed";case 5:return"Failed Retry";case 6:return"Failed";case 7:return"Paused";case 8:return"Waiting"}}function isJobComplete(n){return n===4||n===6?!0:!1}function renderProceed(n,t){const i=`<span>
            <form method='post' action='/periodend/proceed'>
                <input type="submit" value="Proceed" ${t?"":"disabled"}> 
            </form>
        </span>`;n.insertAdjacentHTML("beforeend",i)}function renderJob(n,t){let i=document.createElement("li");return i.textContent=`Job Id : ${n.jobId}, Status : ${jobStatusConvertor(n.status)}`,t.appendChild(i),isJobComplete(n.status)}function renderPathItem(n,t,i){let o=t.ordinal===n.position,f=!0,r=document.createElement("li");r.textContent=t.name;let u=t.pathItemJobs;if(u!=undefined&&u.length>0){var e=document.createElement("ul");u.forEach(function(n){var t=renderJob(n,e);t||(f=!1)});r.appendChild(e)}if(o){renderProceed(r,f);let n=document.createElement("b");i.appendChild(n);n.appendChild(r);i.appendChild(n)}else i.appendChild(r)}function renderPaths(n){let i=JSON.parse(n),t=document.getElementById("pathContainer");while(t.firstChild)t.removeChild(t.firstChild);i.forEach(function(n){let i=n.pathItems;if(i!=undefined&&i.length>0){i.sort(pathItemCompare);let r=document.createElement("li");r.textContent=n.name;let u=document.createElement("ul");i.forEach(function(t){renderPathItem(n,t,u)});r.appendChild(u);t.appendChild(r)}})}var connection=(new signalR.HubConnectionBuilder).configureLogging(signalR.LogLevel.Information).withUrl("/operationsHub",{transport:signalR.HttpTransportType.WebSockets}).build();document.getElementById("sendButton").disabled=!0;connection.on("ReceiveMessage",function(n,t){var r=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=n+" says "+r,i=document.createElement("li");i.textContent=u;document.getElementById("messagesList").appendChild(i)});connection.start().then(function(){document.getElementById("sendButton").disabled=!1}).catch(function(n){return console.error(n.toString())});document.getElementById("sendButton").addEventListener("click",function(n){var t=document.getElementById("userInput").value,i=document.getElementById("messageInput").value;connection.invoke("SendMessage",t,i).catch(function(n){return console.error(n.toString())});n.preventDefault()});"use strict";let connection=(new signalR.HubConnectionBuilder).configureLogging(signalR.LogLevel.Information).withUrl("/periodEndHub",{transport:signalR.HttpTransportType.WebSockets}).build();connection.on("ReceiveMessage",renderPaths);connection.start();