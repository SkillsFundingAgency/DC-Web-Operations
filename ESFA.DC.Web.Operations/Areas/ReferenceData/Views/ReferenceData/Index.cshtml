@using System.Globalization
@using ESFA.DC.Web.Operations.Utils
@model ESFA.DC.Web.Operations.Models.ReferenceData.ReferenceDataIndexModel

@{
    ViewData["Title"] = "Index";
    var campusIdentifiersStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.ReferenceDataCampusIdentifiers).Value;
    var conditionOfFundingRemovalStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.ReferenceDataConditionsOfFundingRemoval).Value;
    var fundingClaimsMetaDataStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.FundingClaimsMetaData).Value;
    var shortTermFundingInitiativesStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.ShortTermFundingInitiatives).Value;
    var devolvedContractsStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.DevolvedContracts).Value;
    var providerPostcodeSpecialistResourcesStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.ReferenceDataProviderPostcodeSpecialistResources).Value;
    var onsPostcodesStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.OnsPostcodes).Value;
    var validationMessagesStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.ReferenceDataValidationMessages2021).Value;
    var ncsOutcomeRatesStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.NcsOutcomeRates).Value;
    var devolvedPostcodesStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.DevolvedPostcodes).Value;
    var fisReferenceDataStats = @Model.CollectionJobStats.Single(c => c.Key == CollectionNames.FisReferenceData2021).Value;
}

<div class="govuk-width-container">
    <div class="govuk-breadcrumbs">
        <ol class="govuk-breadcrumbs__list">
            <li class="govuk-breadcrumbs__list-item">
                <a class="govuk-breadcrumbs__link" href="/">Home</a>
            </li>

            <li class="govuk-breadcrumbs__list-item" aria-current="page">Reference Data</li>
        </ol>
    </div>

    <details class="govuk-details" data-module="govuk-details">
        <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">
                Upload reference data
            </span>
        </summary>
        <div class="govuk-details__text">

            <main class="govuk-main-wrapper">
                <div class="govuk-grid-row govuk-!-margin-top-6">

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.ReferenceDataCampusIdentifiers" class="govuk-link">Campus Identifiers</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@campusIdentifiersStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @campusIdentifiersStats.LastUpdatedByWho</p>
                            </li>
                        </ul>
                    </div>

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.ReferenceDataConditionsOfFundingRemoval" class="govuk-link">Conditions of Funding Removal</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@conditionOfFundingRemovalStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @conditionOfFundingRemovalStats.LastUpdatedByWho</p>
                            </li>
                        </ul>
                    </div>

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading">@Html.ActionLink("Funding Claims dates", "Index", "FundingClaimsDates", new { area = AreaNames.ReferenceData }, new { @class = "govuk-link" })</h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@fundingClaimsMetaDataStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @fundingClaimsMetaDataStats.LastUpdatedByWho</p>
                                <br />
                            </li>
                        </ul>
                    </div>

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.ShortTermFundingInitiatives" class="govuk-link">Short Term Funding Initiatives</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@shortTermFundingInitiativesStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @shortTermFundingInitiativesStats.LastUpdatedByWho</p>
                            </li>
                        </ul>
                    </div>

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.DevolvedContracts" class="govuk-link">Devolved Contracts</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@devolvedContractsStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @devolvedContractsStats.LastUpdatedByWho</p>
                                <br />
                            </li>
                        </ul>
                    </div>

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.ReferenceDataProviderPostcodeSpecialistResources" class="govuk-link">Provider Postcode Specialist Resources</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@providerPostcodeSpecialistResourcesStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @providerPostcodeSpecialistResourcesStats.LastUpdatedByWho</p>
                                <br />
                            </li>
                        </ul>
                    </div>

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.OnsPostcodes" class="govuk-link">ONS postcodes</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@onsPostcodesStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @onsPostcodesStats.LastUpdatedByWho</p>
                                <br />
                            </li>
                        </ul>
                    </div>

                    @if (validationMessagesStats.Valid)
                    {
                        <div class="govuk-grid-column-one-third">
                            <ul class="govuk-list">
                                <li>
                                    <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.ReferenceDataValidationMessages2021" class="govuk-link">Validation Messages 20-21</a></h3>
                                    <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                    <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@validationMessagesStats.LastUpdatedDateTimeFormattedDisplay</p>
                                    <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @validationMessagesStats.LastUpdatedByWho</p>
                                </li>
                            </ul>
                        </div>
                    }

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="ReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.NcsOutcomeRates" class="govuk-link">NCS Outcome Rates</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@ncsOutcomeRatesStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @ncsOutcomeRatesStats.LastUpdatedByWho</p>
                                <br />
                            </li>
                        </ul>
                    </div>

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading">@Html.ActionLink("Devolved postcodes", "Index", "DevolvedPostcodes", new { area = AreaNames.ReferenceData }, new { @class = "govuk-link" })</h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@devolvedPostcodesStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @devolvedPostcodesStats.LastUpdatedByWho</p>
                                <br />
                            </li>
                        </ul>
                    </div>
                </div>
            </main>
        </div>
    </details>
    <details class="govuk-details" data-module="govuk-details">
        <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">
                Publish data
            </span>
        </summary>
        <div class="govuk-details__text">

            <main class="govuk-main-wrapper">
                <div class="govuk-grid-row govuk-!-margin-top-6">

                    <div class="govuk-grid-column-one-third">
                        <ul class="govuk-list">
                            <li>
                                <h3 class="home-services__heading"><a asp-action="Index" asp-controller="FisReferenceData" asp-area="ReferenceData" asp-route-collectionName="@CollectionNames.FisReferenceData2021" class="govuk-link">FIS reference data 2021</a></h3>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-1">Last update</p>
                                <p class="govuk-body govuk-!-font-weight-bold govuk-!-margin-bottom-1">@fisReferenceDataStats.LastUpdatedDateTimeFormattedDisplay</p>
                                <p class="govuk-body govuk-!-font-weight-regular govuk-!-margin-bottom-7">by @fisReferenceDataStats.LastUpdatedByWho</p>
                                <br />
                            </li>
                        </ul>
                    </div>
                </div>
            </main>
        </div>
    </details>
</div>
